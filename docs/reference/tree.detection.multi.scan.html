<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Tree-Level Variables Estimation — tree.detection.multi.scan • FORTLS</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Tree-Level Variables Estimation — tree.detection.multi.scan"><meta name="description" content="Detects trees from point clouds corresponding to TLS multi-scan approaches and SLAM devices. For each tree detected, the function calculates the central coordinates and estimates the diameter at 1.3 m above ground level (which is known as dbh, diameter at breast height) and classifies it as fully visible or partially occluded. Finally, the function obtains the number of points belonging to normal sections of trees (those corresponding to dbh +/- 5 cm) and estimates them for both original and reduced (with random selection process) point clouds."><meta property="og:description" content="Detects trees from point clouds corresponding to TLS multi-scan approaches and SLAM devices. For each tree detected, the function calculates the central coordinates and estimates the diameter at 1.3 m above ground level (which is known as dbh, diameter at breast height) and classifies it as fully visible or partially occluded. Finally, the function obtains the number of points belonging to normal sections of trees (those corresponding to dbh +/- 5 cm) and estimates them for both original and reduced (with random selection process) point clouds."><meta property="og:image" content="https://molina-valero.github.io/FORTLS/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">FORTLS</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.6.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/plot_design_optimization.html">Plot design optimization</a></li>
    <li><a class="dropdown-item" href="../articles/stand_level.html">Stand-level variables</a></li>
    <li><a class="dropdown-item" href="../articles/tree_level.html">Tree-level variables</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/Molina-Valero/FORTLS/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Tree-Level Variables Estimation</h1>

      <div class="d-none name"><code>tree.detection.multi.scan.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Detects trees from point clouds corresponding to TLS multi-scan approaches and SLAM devices. For each tree detected, the function calculates the central coordinates and estimates the diameter at 1.3 m above ground level (which is known as <em>dbh</em>, diameter at breast height) and classifies it as fully visible or partially occluded. Finally, the function obtains the number of points belonging to normal sections of trees (those corresponding to <em>dbh</em> +/- 5 cm) and estimates them for both original and reduced (with random selection process) point clouds.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">tree.detection.multi.scan</span><span class="op">(</span><span class="va">data</span>, single.tree <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>                          dbh.min <span class="op">=</span> <span class="fl">4</span>, dbh.max <span class="op">=</span> <span class="fl">200</span>, h.min <span class="op">=</span> <span class="fl">1.3</span>,</span>
<span>                          geo.dist <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span>                          tls.precision <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>                          stem.section <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.7</span>, <span class="fl">3.5</span><span class="op">)</span>, stem.range <span class="op">=</span> <span class="cn">NULL</span>, breaks <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>                          slice <span class="op">=</span> <span class="fl">0.1</span>, understory <span class="op">=</span> <span class="cn">NULL</span>, bark.roughness <span class="op">=</span> <span class="fl">1</span>,</span>
<span>                          den.type <span class="op">=</span> <span class="fl">1</span>, d.mer <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>                          segmentation <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>                          plot.attributes <span class="op">=</span> <span class="cn">NULL</span>, plot <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                          threads <span class="op">=</span> <span class="fl">1</span>,</span>
<span>                          dir.data <span class="op">=</span> <span class="cn">NULL</span>, save.result <span class="op">=</span> <span class="cn">TRUE</span>, dir.result <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<p></p>
<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>Data frame with same description and format as indicated for <code><a href="normalize.html">normalize</a></code> ‘Value’.</p></dd>


  <dt id="arg-single-tree">single.tree<a class="anchor" aria-label="anchor" href="#arg-single-tree"></a></dt>
<dd><p>Optional argument to indicate if there is only one tree.</p></dd>


  <dt id="arg-dbh-min">dbh.min<a class="anchor" aria-label="anchor" href="#arg-dbh-min"></a></dt>
<dd><p>Optional minimum <em>dbh</em> (cm) considered for detecting trees. By default it will be set at 4 cm.</p></dd>


  <dt id="arg-dbh-max">dbh.max<a class="anchor" aria-label="anchor" href="#arg-dbh-max"></a></dt>
<dd><p>Optional maximum <em>dbh</em> (cm) considered for detecting trees. By default it will be set at 200 cm.</p></dd>


  <dt id="arg-h-min">h.min<a class="anchor" aria-label="anchor" href="#arg-h-min"></a></dt>
<dd><p>Optional minimum <em>h</em> (m) considered for detecting trees. By default it will be set at 1.3 m.</p></dd>


  <dt id="arg-geo-dist">geo.dist<a class="anchor" aria-label="anchor" href="#arg-geo-dist"></a></dt>
<dd><p>Local surface variation (also known as normal change rate, NCR). By default it will be set as 0.1. For better understanding of this argument see ‘Details’.</p></dd>


  <dt id="arg-tls-precision">tls.precision<a class="anchor" aria-label="anchor" href="#arg-tls-precision"></a></dt>
<dd><p>Average point cloud precision in cm.</p></dd>


  <dt id="arg-stem-section">stem.section<a class="anchor" aria-label="anchor" href="#arg-stem-section"></a></dt>
<dd><p>Section free of noise (shurb, branches, etc.) considered to detect trees. If not specified, an automatic internal algorithm will be applied (see ‘Details’).</p></dd>


  <dt id="arg-stem-range">stem.range<a class="anchor" aria-label="anchor" href="#arg-stem-range"></a></dt>
<dd><p>Section considered to estimate straightness tree attributes.</p></dd>


  <dt id="arg-breaks">breaks<a class="anchor" aria-label="anchor" href="#arg-breaks"></a></dt>
<dd><p>Height above ground level (m) of slices considered for detecting trees. By default it will be considered all possible sections from 0.4 m to maximum height by 0.3 m intervals (+/- 5 cm).</p></dd>


  <dt id="arg-slice">slice<a class="anchor" aria-label="anchor" href="#arg-slice"></a></dt>
<dd><p>Slice width considered for detecting trees. By default it will be considered as 0.1 m.</p></dd>


  <dt id="arg-understory">understory<a class="anchor" aria-label="anchor" href="#arg-understory"></a></dt>
<dd><p>Optional argument to indicate if there is dense understory vegetation.</p></dd>


  <dt id="arg-bark-roughness">bark.roughness<a class="anchor" aria-label="anchor" href="#arg-bark-roughness"></a></dt>
<dd><p>Bark roughness established in 3 degrees (1 &lt; 2 &lt; 3). By default it will be considered as 1.</p></dd>


  <dt id="arg-den-type">den.type<a class="anchor" aria-label="anchor" href="#arg-den-type"></a></dt>
<dd><p>Numeric argument indicating the dendrometic type used to estimate volumen when there are not sections enough to fit a taper equation. Dendrometrics types available are the following: cylinder = 0, paraboloid = 1 (by default), cone = 2 and neiloid = 3.</p></dd>


  <dt id="arg-d-mer">d.mer<a class="anchor" aria-label="anchor" href="#arg-d-mer"></a></dt>
<dd><p>Top stem diameter (cm) considered to estimate commercial timber volume.</p></dd>


  <dt id="arg-segmentation">segmentation<a class="anchor" aria-label="anchor" href="#arg-segmentation"></a></dt>
<dd><p>Tree segmentation.</p></dd>


  <dt id="arg-plot-attributes">plot.attributes<a class="anchor" aria-label="anchor" href="#arg-plot-attributes"></a></dt>
<dd><p>Data frame with attributes at plot level. It must contain a column named <code>id</code> (character string or numeric value) with encoding coinciding with that used in <code>id</code> argument of <code><a href="normalize.html">normalize</a></code> for identifying plots. If there are strata, another column named ‘stratum’ (numeric) will be required for other functionalities of <span class="pkg">FORTLS</span> (see, for instance, <code><a href="estimation.plot.size.html">estimation.plot.size</a></code> or <code><a href="metrics.variables.html">metrics.variables</a></code>). If this argument is not specified by the user, it will be set to NULL by default and, as a consequence, the function will not add these possible plot attributes.</p></dd>


  <dt id="arg-plot">plot<a class="anchor" aria-label="anchor" href="#arg-plot"></a></dt>
<dd><p>Optional logical which indicates whether or not the normalized point cloud will be plot. If this argument is not specified by the user, it will be set to <code>TRUE</code> by default and, as consequence, the normalized point cloud will be plot.</p></dd>


  <dt id="arg-threads">threads<a class="anchor" aria-label="anchor" href="#arg-threads"></a></dt>
<dd><p>Number of threads.</p></dd>


  <dt id="arg-dir-data">dir.data<a class="anchor" aria-label="anchor" href="#arg-dir-data"></a></dt>
<dd><p>Optional character string naming the absolute path of the directory where LAS files containing TLS point clouds are located. <code>.Platform$file.sep</code> must be used as the path separator in <code>dir.data</code>. If this argument is not specified by the user, it will be set to <code>NULL</code> by default and, as a consequence, the current working directory of the <span style="R">R</span> process will be assigned to <code>dir.data</code> during the execution.</p></dd>


  <dt id="arg-save-result">save.result<a class="anchor" aria-label="anchor" href="#arg-save-result"></a></dt>
<dd><p>Optional logical which indicates whether or not the output files described in ‘Output Files’ section should be saved in <code>dir.result</code>. If this argument is not specified by the user, it will be set to <code>TRUE</code> by default and, as a consequence, the output files will be saved.</p></dd>


  <dt id="arg-dir-result">dir.result<a class="anchor" aria-label="anchor" href="#arg-dir-result"></a></dt>
<dd><p>Optional character string naming the absolute path of an existing directory where the files described in ‘Output Files’ section will be saved. <code>.Platform$file.sep</code> must be used as the path separator in <code>dir.result</code>. If this argument is not specified by the user, and the <code>save.result</code> is <code>TRUE</code>, it will be set to <code>NULL</code> by default and, as a consequence, the current working directory of the <span style="R">R</span> process will be assigned to <code>dir.result</code> during the execution.</p></dd>
</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>


<p>Slices determined by <code>breaks</code> argument are clustered using the DBSCAN algorithm (Ester et al., 1996) on the horizontal plane according to Cartesian coordinates (x, y). Before and after this process, several algorithms are used to remove noisy points and apply classification criteria to select the clusters of trees.</p>
<p><em>dbh</em> is directly estimated for the section of 1.3 m above ground level, and estimated from other sections using <em>dbh</em>~<em>breaks</em> linear regression. Finally, the mean value of all estimates is provided in ‘Value’ as the <em>dbh</em> of the tree section.</p>
<p>Volume is estimated modelling stem profile as a paraboloid and calculating the volumes of revolution; where trees <em>dbh</em> are estimated in <code><a href="tree.detection.single.scan.html">tree.detection.single.scan</a></code>, and total heights are estimated as percentile 99 of z coordinate of points delimited by Voronoi polygons.</p>
<p>The number of points corresponding to a normal section (+/- 5 cm) is estimated in proportion to <em>dbh</em>, using the average number of points per radius unit as reference. In this respect, only tree sections fully visible at 1.3 m above ground level will be considered for estimating the average number of points.</p>
<p>Local surface variation (also known as normal change rate ,NCR), is a quantitative measure of curvature feature (Pauly et al., 2002). This is useful for distinguishing points belonging to fine branches and foliage (e.g. leaves, shrubs) and stem points (e.g. Jin et al., 2016; Zhang et al., 2019). Just as we considered 5 cm as suitable for calculating local surface variation for the stem separation in forests, according to other authors (Ma et al., 2015; Xia et al., 2015), we also established the NCR threshold as 0.1, according to Zhang et al. (2019). However, this argument (<code>ncr.threshold</code>) may be modified in order to use more appropriate values.</p>
    </div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Data frame with the following columns for every tree detected (each row corresponds to one tree detected):</p>
<p></p>
<dl><dt>id</dt>
<dd><p>Optional plot identification encoded as a character string or numeric. If this argument is not specified by the user, it will be set to NULL by default and, as a consequence, the plot will be encoded as 1.</p></dd>


  <dt>file</dt>
<dd><p>Optional file name identification encoded as character string or numeric. If it is null, the file will be encoded as <code>id</code> by default.</p></dd>


  <dt>tree</dt>
<dd><p>tree numbering</p></dd>



<dt>Coordinates</dt>
<dd>

<p>Cartesian (according to <a href="https://en.wikipedia.org/wiki/Cartesian_coordinate_system" class="external-link">https://en.wikipedia.org/wiki/Cartesian_coordinate_system</a> notation):</p></dd>

    </dl><ul><li><p><code>x</code>: distance on x axis (m) of tree centre.</p></li>
<li><p><code>y</code>: distance on y axis (m) of tree centre.</p></li>
</ul><p>Azimuthal angles:</p><ul><li><p><code>phi</code>: angular coordinate (rad) of tree centre.</p></li>
</ul><dl><dt>h.dist</dt>
<dd><p>horizontal distance (m) from plot centre to tree centre.</p></dd>


<dt><em>dbh</em></dt>
<dd><p>estimated tree diameter (cm) at breast height (1.3 m).</p></dd>


<dt><em>h</em></dt>
<dd><p>estimated tree total height (m).</p></dd>


<dt><em>h.com</em></dt>
<dd><p>estimated commercial tree height (m) according to the top diameter defined in the argument <code>d.mer</code>.</p></dd>


<dt><em>v</em></dt>
<dd><p>estimated tree stem volume (m^3).</p></dd>


<dt><em>v.com</em></dt>
<dd><p>estimated commercial tree stem volume (m^3) according to the top diameter defined in the argument <code>d.mer</code>.</p></dd>


<dt><em>SS.max</em></dt>
<dd><p>Maximum sagitta (see Prendes et al. (2022)).</p></dd>


<dt><em>sinuosity</em></dt>
<dd><p>Sinuosity (see Prendes et al. (2022)).</p></dd>


<dt><em>lean</em></dt>
<dd><p>Lean (see Prendes et al. (2022)).</p></dd>


<dt>n.pts</dt>
<dd><p>number of points corresponding to a normal section (+/- 5 cm) in the original point cloud.</p></dd>


<dt>n.pts.red</dt>
<dd><p>number of points corresponding to a normal section (+/- 5 cm) in the point cloud reduced by the point cropping process.</p></dd>


<dt>n.pts.est</dt>
<dd><p>number of points estimated for a normal section (+/- 5 cm) in the original point cloud.</p></dd>


<dt>n.pts.red.est</dt>
<dd><p>number of points estimated for a normal section (+/- 5 cm) in the point cloud reduced by the point cropping process.</p></dd>


<dt>partial.occlusion</dt>
<dd><p>yes (1) or no (0)</p></dd>
</dl></div>
    <div class="section level2">
    <h2 id="output-files">Output Files<a class="anchor" aria-label="anchor" href="#output-files"></a></h2>


<p>At the end of the tree detection process, if the <code>save.result</code> argument is <code>TRUE</code>, the function will save the data frame described in ‘Value’ as a CSV file named ‘tree.tls.csv’. The data frame will be written without row names in the <code>dir.result</code> directory by using <code><a href="https://rdrr.io/r/utils/write.table.html" class="external-link">write.csv</a></code> function from the <span class="pkg">utils</span> package.</p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>Although <code>tree.detection.multi.scan</code> also works with reduced point clouds, thus reducing the computing time, use of the original point cloud is recommended in order to detect more trees. This will also depend on forest conditions, especially those related to visibility. The more distant the trees are, the lower the density of points will be, and using reduced point clouds will therefore complicate detection of the most distant trees.</p>
<p>Note that <code>dbh.min</code> and <code>dbh.max</code> are important for avoiding outlier values when inventory data are used for reference purposes. Otherwise, knowledge about the autoecology of species could be used for filtering anomalous values of <em>dbh</em>.</p>
<p>The argument <code>breaks = 1.3</code> could be sufficient for detecting trees visible at <em>dbh</em>, involving lower computational cost. However, those trees not detected at <em>dbh</em>, may be estimated from lower and/or higher sections. Considering the three default sections in the argument <code>breaks = c(1.0, 1.3, 1.6)</code> maintains a good balance in the case study of this package.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Ester, M., Kriegel, H. P., Sander, J., &amp; Xu, X. (1996). A density-based algorithm for discovering clusters in large spatial databases with noise. In Kdd (Vol. 96, No. 34, pp. 226-231).</p>
<p>Jin, S., Tamura, M., &amp; Susaki, J. (2016). A new approach to retrieve leaf normal distribution using terrestrial laser scanners. J. <em>Journal of Forestry Research</em>, <b>27(3)</b>, 631-638. <a href="https://doi.org/10.1007/s11676-015-0204-z" class="external-link">doi:10.1007/s11676-015-0204-z</a></p>
<p>Ma, L., Zheng, G., Eitel, J. U., Moskal, L. M., He, W., &amp; Huang, H. (2015). Improved salient feature-based approach for automatically separating photosynthetic and nonphotosynthetic components within terrestrial lidar point cloud data of forest canopies. <em>IEEE Transactions Geoscience Remote Sensing</em>, <b>54(2)</b>, 679-696. <a href="https://doi.org/10.1109/TGRS.2015.2459716" class="external-link">doi:10.1109/TGRS.2015.2459716</a></p>
<p>Pauly, M., Gross, M., &amp; Kobbelt, L. P., (2002). Efficient simplification of point-sampled surfaces. In IEEE Conference on Visualization. (pp. 163-170). Boston, USA. <a href="https://doi.org/10.1109/VISUAL.2002.1183771" class="external-link">doi:10.1109/VISUAL.2002.1183771</a></p>
<p>Prendes, C., Canga, E., Ordoñez, C., Majada, J., Acuna, M., &amp; Cabo, C. (2022). Automatic assessment of individual stem shape parameters in forest stands from tls point clouds: Application in pinus pinaster. Forests, 13(3), 431. <a href="https://doi.org/10.3390/f13030431" class="external-link">doi:10.3390/f13030431</a></p>
<p>Xia, S., Wang, C., Pan, F., Xi, X., Zeng, H., &amp; Liu, H. (2015). Detecting stems in dense and homogeneous forest using single-scan TLS. <em>Forests</em>. <b>6(11)</b>, 3923-3945. <a href="https://doi.org/10.3390/f6113923" class="external-link">doi:10.3390/f6113923</a></p>
<p>Zhang, W., Wan, P., Wang, T., Cai, S., Chen, Y., Jin, X., &amp; Yan, G. (2019). A novel approach for the detection of standing tree stems from plot-level terrestrial laser scanning data. <em>Remote Sens</em>. <b>11(2)</b>, 211. <a href="https://doi.org/10.3390/rs11020211" class="external-link">doi:10.3390/rs11020211</a></p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Juan Alberto Molina-Valero
and Adela Martínez-Calvo.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="normalize.html">normalize</a></code>, <code><a href="tree.detection.single.scan.html">tree.detection.single.scan</a></code>, <code><a href="tree.detection.several.plots.html">tree.detection.several.plots</a></code>, <code><a href="distance.sampling.html">distance.sampling</a></code>, <code><a href="estimation.plot.size.html">estimation.plot.size</a></code>, <code><a href="simulations.html">simulations</a></code>, <code><a href="metrics.variables.html">metrics.variables</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Establishment of working directories (optional)</span></span></span>
<span class="r-in"><span><span class="co"># By default here we propose the current working directory of the R process</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">dir.data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">getwd</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dir.result</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">getwd</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Loading example data of TLS multi-scan approach point cloud (LAZ file) to dir.data</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/download.file.html" class="external-link">download.file</a></span><span class="op">(</span></span></span>
<span class="r-in"><span><span class="st">"www.dropbox.com/scl/fi/es5pfj87wj0g6y8414dpo/PiceaAbies.laz?rlkey=ayt21mbndc6i6fyiz2e7z6oap&amp;dl=1"</span>,</span></span>
<span class="r-in"><span>              destfile <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">dir.data</span>, <span class="st">"PiceaAbies.laz"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>              mode <span class="op">=</span> <span class="st">"wb"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Normalizing the whole point cloud data without considering arguments</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">pcd</span> <span class="op">&lt;-</span> <span class="fu"><a href="normalize.html">normalize</a></span><span class="op">(</span>las <span class="op">=</span> <span class="st">"PiceaAbies.laz"</span>,</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>                 id <span class="op">=</span> <span class="st">"PiceaAbies"</span>,</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>                 scan.approach <span class="op">=</span> <span class="st">"multi"</span>,</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>                 dir.data <span class="op">=</span> <span class="va">dir.data</span>, dir.result <span class="op">=</span> <span class="va">dir.result</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [=================================&gt;                ] 66% ETA: 0s     [=================================&gt;                ] 67% ETA: 0s     [=================================&gt;                ] 67% ETA: 0s     [==================================&gt;               ] 68% ETA: 0s     [==================================&gt;               ] 68% ETA: 0s     [==================================&gt;               ] 69% ETA: 0s     [==================================&gt;               ] 69% ETA: 0s     [===================================&gt;              ] 70% ETA: 0s     [===================================&gt;              ] 70% ETA: 0s     [===================================&gt;              ] 71% ETA: 0s     [===================================&gt;              ] 71% ETA: 0s     [====================================&gt;             ] 72% ETA: 0s     [====================================&gt;             ] 72% ETA: 0s     [====================================&gt;             ] 73% ETA: 0s     [====================================&gt;             ] 73% ETA: 0s     [=====================================&gt;            ] 74% ETA: 0s     [=====================================&gt;            ] 74% ETA: 0s     [=====================================&gt;            ] 75% ETA: 0s     [=====================================&gt;            ] 75% ETA: 0s     [=====================================&gt;            ] 75% ETA: 0s     [======================================&gt;           ] 76% ETA: 0s     [======================================&gt;           ] 76% ETA: 0s     [======================================&gt;           ] 77% ETA: 0s     [======================================&gt;           ] 77% ETA: 0s     [=======================================&gt;          ] 78% ETA: 0s     [=======================================&gt;          ] 78% ETA: 0s     [=======================================&gt;          ] 79% ETA: 0s     [=======================================&gt;          ] 79% ETA: 0s     [========================================&gt;         ] 80% ETA: 0s     [========================================&gt;         ] 80% ETA: 0s     [========================================&gt;         ] 81% ETA: 0s     [========================================&gt;         ] 81% ETA: 0s     [=========================================&gt;        ] 82% ETA: 0s     [=========================================&gt;        ] 82% ETA: 0s     [=========================================&gt;        ] 83% ETA: 0s     [=========================================&gt;        ] 83% ETA: 0s     [==========================================&gt;       ] 84% ETA: 0s     [==========================================&gt;       ] 84% ETA: 0s     [==========================================&gt;       ] 85% ETA: 0s     [==========================================&gt;       ] 85% ETA: 0s     [===========================================&gt;      ] 86% ETA: 0s     [===========================================&gt;      ] 86% ETA: 0s     [===========================================&gt;      ] 86% ETA: 0s     [===========================================&gt;      ] 87% ETA: 0s     [===========================================&gt;      ] 87% ETA: 0s     [============================================&gt;     ] 88% ETA: 0s     [============================================&gt;     ] 88% ETA: 0s     [============================================&gt;     ] 89% ETA: 0s     [============================================&gt;     ] 89% ETA: 0s     [=============================================&gt;    ] 90% ETA: 0s     [=============================================&gt;    ] 90% ETA: 0s     [=============================================&gt;    ] 91% ETA: 0s     [=============================================&gt;    ] 91% ETA: 0s     [==============================================&gt;   ] 92% ETA: 0s     [==============================================&gt;   ] 92% ETA: 0s     [==============================================&gt;   ] 93% ETA: 0s     [==============================================&gt;   ] 93% ETA: 0s     [===============================================&gt;  ] 94% ETA: 0s     [===============================================&gt;  ] 94% ETA: 0s     [===============================================&gt;  ] 95% ETA: 0s     [===============================================&gt;  ] 95% ETA: 0s     [================================================&gt; ] 96% ETA: 0s     [================================================&gt; ] 96% ETA: 0s     [================================================&gt; ] 97% ETA: 0s     [================================================&gt; ] 97% ETA: 0s     [================================================&gt; ] 97% ETA: 0s     [=================================================&gt;] 98% ETA: 0s     [=================================================&gt;] 98% ETA: 0s     [=================================================&gt;] 99% ETA: 0s     [=================================================&gt;] 99% ETA: 0s                                                                                     </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Tree detection without considering arguments</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">tree.tls</span> <span class="op">&lt;-</span> <span class="fu">tree.detection.multi.scan</span><span class="op">(</span>data <span class="op">=</span> <span class="va">pcd</span>,</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>                                      threads <span class="op">=</span> <span class="fl">2</span>,</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>                                      dir.result <span class="op">=</span> <span class="va">dir.result</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Application of Statistical Outlier Removal (SOR) to the entire point cloud</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Retention of points with high verticality &amp; low surface variation</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Detection of tree stem axes</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Computing sections</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Juan Alberto Molina-Valero, Adela Martínez-Calvo, María José Ginzo Villamayor, Juan Gabriel Álvarez-González, Fernando Montes, César Pérez-Cruzado.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

