<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Assess Consistency of Metrics for Simulated TLS Plots — estimation.plot.size • FORTLS</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Assess Consistency of Metrics for Simulated TLS Plots — estimation.plot.size"><meta property="og:description" content="Plots empirical linear charts of density (N, trees/ha) and basal area (G, \({m}^{2}/ha\)) estimates (derived from simulated TLS plots) as a function of plot size (estimation-size charts) for different plot designs (circular fixed area, k-tree and angle-count), through continuous size increments (radius, k and BAF respectively). Size increments are set at 0.1 m, 1 tree and 0.1 \({m}^{2}/ha\) for fixed area, k-tree and angle-count plot designs, respectively. These size-estimation line charts represent the consistency in predicting the stand variables across different values of radius, k and BAF. Size-estimation charts can be drawn for individual sample plots (including all plots together in the same charts) or for mean values (global mean computed for all the sample plots, or for group means if different strata are considered). Finally,
different plot designs can be compared if specified in the arguments, producing one size-estimation chart per variable (N and G)."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">FORTLS</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/stand_level.html">Stand level</a>
    </li>
    <li>
      <a href="../articles/tree_level.html">Tree-level</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/Molina-Valero/FORTLS/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Assess Consistency of Metrics for Simulated TLS Plots</h1>
    
    <div class="hidden name"><code>estimation.plot.size.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Plots empirical linear charts of density (<em>N</em>, trees/ha) and basal area (<em>G</em>, \({m}^{2}/ha\)) estimates (derived from simulated TLS plots) as a function of plot size (estimation-size charts) for different plot designs (circular fixed area, k-tree and angle-count), through continuous size increments (radius, k and BAF respectively). Size increments are set at 0.1 m, 1 tree and 0.1 \({m}^{2}/ha\) for fixed area, k-tree and angle-count plot designs, respectively. These size-estimation line charts represent the consistency in predicting the stand variables across different values of radius, k and BAF. Size-estimation charts can be drawn for individual sample plots (including all plots together in the same charts) or for mean values (global mean computed for all the sample plots, or for group means if different strata are considered). Finally,
different plot designs can be compared if specified in the arguments, producing one size-estimation chart per variable (<em>N</em> and <em>G</em>).</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">estimation.plot.size</span><span class="op">(</span><span class="va">tree.tls</span>,
                     plot.parameters <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>radius.max <span class="op">=</span> <span class="fl">25</span>,
                                                  k.max <span class="op">=</span> <span class="fl">50</span>,
                                                  BAF.max <span class="op">=</span> <span class="fl">4</span><span class="op">)</span>,
                     dbh.min <span class="op">=</span> <span class="fl">4</span>,
                     average <span class="op">=</span> <span class="cn">FALSE</span>, all.plot.designs <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>tree.tls</dt>
<dd><p>Data frame with information of trees detected from TLS point cloud data in the same format as <code><a href="tree.detection.single.scan.html">tree.detection.single.scan</a></code> and <code><a href="tree.detection.multi.scan.html">tree.detection.multi.scan</a></code> ‘Value’.</p></dd>
<dt>plot.parameters</dt>
<dd><p>Optional data frame containing parameters for circular fixed area, k-tree and angle-count plot designs. The parameters are as follows:</p></dd>
</dl><ul><li><p><code>radius.max</code>: maximum plot radius (m) considered for circular fixed area plots. If the <code>radius.max</code> specified is larger than the farthest tree from the plot centre, the horizontal distance from the farthest tree will be considered the maximum <code>radius</code>. By default, the <code>radius.max</code> will be 25 m.</p></li>
<li><p><code>k.tree.max</code>: maximum number of trees considered for k-tree plots. If <code>k.tree.max</code> specified is larger than the maximum number of trees of the densest plot, this number of trees will be considered the maximum <code>k.tree.max</code>. By default, <code>k.tree.max</code> is 50.</p></li>
<li><p><code>BAF.max</code>: maximum basal area factor (\({m}^{2}/ha\)) considered for angle-count plots. By default, <code>BAF.max</code> is 4.</p></li>
</ul><dl><dt>dbh.min</dt>
<dd><p>Optional minimum <em>dbh</em> (cm) considered for detecting trees. By default it will be set at 4 cm.</p></dd>
<dt>average</dt>
<dd><p>Logical; if <code>TRUE</code>, plot means values and standard deviation of estimations will be represented. By default, it will be set as <code>FALSE</code>.</p></dd>
<dt>all.plot.designs</dt>
<dd><p>Logical; if <code>TRUE</code>, charts for each plot design are drawn together. By default, it will be set as <code>FALSE</code>.</p></dd>
</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>If there are strata in the <code>tree.tls</code> argument, they will be differentiated in charts with different colours. Strata must be specified in a numeric column named <code>stratum</code>.</p>
<p>The <code>all.plot.designs</code> argument only works for single strata, and therefore if there are additional strata in the <code>tree.tls</code> argument, they will be considered equal.</p>
<p>The outputs of this function are inspired by Fig. 3 of Brunner and Gizachew (2014).</p>
    </div>
    <div id="value">
    <h2>Value</h2>
    <p><code>Invisible NULL</code></p>
    </div>
    <div id="references">
    <h2>References</h2>
    <p>Brunner, A., &amp; Gizachew, B. (2014). Rapid detection of stand density, tree positions, and tree diameter with a 2D terrestrial laser scanner. <em>European Journal of Forest Research</em>, <b>133(5)</b>, 819-831.</p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Juan Alberto Molina-Valero,
María José Ginzo Villamayor,
Manuel Antonio Novo Pérez,
Adela Martínez-Calvo,
Juan Gabriel Álvarez-González,
Fernando Montes and
César Pérez-Cruzado.</p>
    </div>
    <div id="note">
    <h2>Note</h2>
    <p>Mean values are relevant when plots are representing homogenous strata.</p>
<p>Note that this is an option for choosing the best plot design when  field data are not available. Otherwise, using <code><a href="correlations.html">correlations</a></code>, <code><a href="relative.bias.html">relative.bias</a></code> and <code><a href="optimize.plot.design.html">optimize.plot.design</a></code> will be more desirable for obtaining the best possible plot design.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="tree.detection.single.scan.html">tree.detection.single.scan</a></code>, <code><a href="tree.detection.multi.scan.html">tree.detection.multi.scan</a></code>, <code><a href="tree.detection.several.plots.html">tree.detection.several.plots</a></code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="co"># \donttest{</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Loading dataset with trees detected from TLS single-scans</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"Rioja.data"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">tree.tls</span> <span class="op">&lt;-</span> <span class="va">Rioja.data</span><span class="op">$</span><span class="va">tree.tls</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Without strata and plot parameters by default</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="fu">estimation.plot.size</span><span class="op">(</span><span class="va">tree.tls</span><span class="op">)</span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in .check.class(x = tree.tls, x.class = "data.frame", name = "tree.tls",     n = Inf):</span> 'tree.tls' must be a data.frame.</span>
<span class="r-in"></span>
<span class="r-in"><span class="fu">estimation.plot.size</span><span class="op">(</span><span class="va">tree.tls</span>, average <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in .check.class(x = tree.tls, x.class = "data.frame", name = "tree.tls",     n = Inf):</span> 'tree.tls' must be a data.frame.</span>
<span class="r-in"></span>
<span class="r-in"><span class="fu">estimation.plot.size</span><span class="op">(</span><span class="va">tree.tls</span>, all.plot.designs <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in .check.class(x = tree.tls, x.class = "data.frame", name = "tree.tls",     n = Inf):</span> 'tree.tls' must be a data.frame.</span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Considering two strata and different parameters</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Loading dataset with strata</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">plot.attributes</span> <span class="op">&lt;-</span> <span class="va">Rioja.data</span><span class="op">$</span><span class="va">plot.attributes</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Merging the plot.attributes data set with strata information</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">tree.tls</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/merge.html" class="external-link">merge</a></span><span class="op">(</span><span class="va">tree.tls</span>, <span class="va">plot.attributes</span>, by <span class="op">=</span> <span class="st">"id"</span><span class="op">)</span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in fix.by(by.x, x):</span> 'by' must specify a uniquely valid column</span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="fu">estimation.plot.size</span><span class="op">(</span><span class="va">tree.tls</span>,</span>
<span class="r-in">                     plot.parameters <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>radius.max <span class="op">=</span> <span class="fl">10</span>, k.tree.max <span class="op">=</span> <span class="fl">10</span>, BAF.max <span class="op">=</span> <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in .check.class(x = plot.parameters, x.class = "data.frame", name = "plot.parameters",     n = ifelse(funct %in% c("sim", "est"), 1, Inf)):</span> 'plot.parameters' must be a data.frame.</span>
<span class="r-in"></span>
<span class="r-in"><span class="fu">estimation.plot.size</span><span class="op">(</span><span class="va">tree.tls</span>, ,</span>
<span class="r-in">                     plot.parameters <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>radius.max <span class="op">=</span> <span class="fl">15</span>, k.tree.max <span class="op">=</span> <span class="fl">20</span>, BAF.max <span class="op">=</span> <span class="fl">4</span><span class="op">)</span>,</span>
<span class="r-in">                     average <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in .check.class(x = plot.parameters, x.class = "data.frame", name = "plot.parameters",     n = ifelse(funct %in% c("sim", "est"), 1, Inf)):</span> 'plot.parameters' must be a data.frame.</span>
<span class="r-in"></span>
<span class="r-in"><span class="fu">estimation.plot.size</span><span class="op">(</span><span class="va">tree.tls</span>,</span>
<span class="r-in">                     plot.parameters <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>radius.max <span class="op">=</span> <span class="fl">20</span>, k.tree.max <span class="op">=</span> <span class="fl">30</span>, BAF.max <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>,</span>
<span class="r-in">                     all.plot.designs <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in .check.class(x = plot.parameters, x.class = "data.frame", name = "plot.parameters",     n = ifelse(funct %in% c("sim", "est"), 1, Inf)):</span> 'plot.parameters' must be a data.frame.</span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># }</span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Juan Alberto Molina-Valero, Adela Martínez-Calvo, Juan Gabriel Álvarez-González, Fernando Montes, César Pérez-Cruzado.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

      </footer></div>

  


  

  </body></html>

